<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 26 Jan 2013 19:19:13 GMT -->
<!-- Added by HTTrack -->
<!-- Mirrored from kozgun.net/wiki/pmwikibeca.html?n=PmWiki.FmtPageName by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 27 Jun 2014 19:52:08 GMT -->
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1" /><!-- /Added by HTTrack -->
<head>
  <title>Wiki | PmWiki / FmtPageName </title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='pub/skins/pmwiki/pmwiki.css' type='text/css' />
	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
	</script>
	<script type="text/javascript">
		_uacct = "UA-884922-1";
		urchinTracker();
	</script>

  <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
div.sourceblock {
	padding: 0.5em;
	border: 1px solid #808080;
	background-color: #F1F0ED; }
div.sourceblock div {
	font-family: monospace;
	font-size: small;
	line-height: 1; }
div.sourceblock div.head, div.sourceblock div.foot {
	font: italic medium serif;
	padding: 0.5em;
}
div.codeblock {
	padding: 0.5em;
	border: 1px solid #808080;
	background-color: #F1F0ED; }
div.codeblock pre {
	font-family: monospace;
	font-size: small;
	line-height: 1; }.editconflict { color:green; font-style:italic; 
  margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href='http://kozgun.net/wiki/pmwiki.php'><img src='http://kozgun.net/wiki/pub/skins/pmwiki/sopar100.jpg'
    alt='Wiki' border='0' /></a></div>
  <div id='wikihead'>
	<!-- <span align=center style="position: relative; top:0px; left:-400px;"> -->
<!-- SiteSearch Google -->
<!--
<form method="get" action="http://www.google.com.tr/custom" target="_top">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="linoz.blogspot.com;www.kozgun.net"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" value="Search"></input>
</td></tr>
<tr>
<td nowrap="nowrap" colspan=2>
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
<input type="radio" name="sitesearch" value="linoz.blogspot.com"></input>
<font size="-1" color="#000000">linoz.blogspot.com</font>
<input type="radio" name="sitesearch" value="www.kozgun.net"></input>
<font size="-1" color="#000000">www.kozgun.net</font>
</td>
  <td></td>
</tr>
</table>
<input type="hidden" name="client" value="pub-0891912819256381"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-9"></input>
<input type="hidden" name="oe" value="ISO-8859-9"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
-->
<!-- SiteSearch Google -->
	<!-- </span> -->

	<span style="position: relative; top:0px; left:0px;">
  <form action='http://kozgun.net/wiki/pmwiki.php'>
    <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.RecentChanges'
      accesskey='c'>Recent Changes</a> -
    <input type='hidden' name='n' value='PmWiki.FmtPageName' />
    <input type='hidden' name='action' value='search' />
    <a href='http://kozgun.net/wiki/pmwiki.php?n=Site.Search'>Search</a>:
    <input class='searchbox' type='text' name='q' value='' />
    <input class='searchbutton' type='submit' value='Go' /></form></div>
		</span>

<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <ul><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=BirlerVeSifirlar.HomePage'>Birler ve S&#305;f&#305;rlar</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Radio.HomePage'>Radyo</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Bookmarks.Index'>Ba&#287;lant&#305;lar</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=RSS.HomePage'>RSS/Podcasts</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Main.Index'>Site Haritas&#305;</a>
</li><li><a class='urllink' href='http://linoz.blogspot.com/' rel='nofollow'>linoz.blogspot.com</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=NelerOgrendim.HomePage'>Neler Ö&#287;rendim</a>
</li></ul><p style='text-align: right;' > <span style='font-size:83%'><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Site.SideBar?action=edit'>edit SideBar</a></span>
</p>

			<div align="center">
			<br>
			<!-- firefox ve thunderbird -->
			<a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=0&amp;t=209"><img border="0" alt="Firefox 2" title="Firefox 2" src="http://sfx-images.mozilla.org/affiliates/Buttons/firefox2/firefox-spread-btn-1.png"/></a> 
			<br>
<a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=0&amp;t=181"><img border="0" alt="Get Thunderbird!" title="Get Thunderbird!" src="http://sfx-images.mozilla.org/affiliates/thunderbird/thunderbird_small.png"/></a>


<br><br>
				<script type="text/javascript"><!--
				/*
google_ad_client = "pub-0891912819256381";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
*/
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</div>
				</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
        <!-- <div id='wikicmds'><ul><li class='browse' ><a accesskey='ak_view'  class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>View</a>
</li><li class='edit' ><a accesskey='e'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=edit'>Edit</a>
</li><li class='diff' ><a accesskey='h'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=diff'>History</a>
</li><li class='print' ><a accesskey='ak_print'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=print'>Print</a>
</li></ul>
</div>-->
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>FmtPageName</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
This page describes an internal function in <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PmWiki'>PmWiki</a>'s engine called
<code>FmtPageName()</code>. The contents are not intended for those with a weak heart
;-)
</p><p class='vspace'></p>
<p>Also see: <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions'>PmWiki.Functions</a>
</p><p class='vspace'></p>
<h2><a name='FmtPageName' id='FmtPageName'></a> <code>FmtPageName</code>($fmt, $pagename)</h2>
<p class='vspace'></p><p><a name='FmtPageName-desc' id='FmtPageName-desc'></a>Returns <code>$fmt</code>, with $variable and internationalisation substitutions performed, under the assumption that the current page is <code>pagename</code>. See <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Variables'>PmWiki.Variables</a> for an (incomplete) list of available variables, <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Internationalizations'>PmWiki.Internationalizations</a> for internationalisation.
</p><p class='vspace'></p>
<p>The function <code>FmtPageName()</code> applies internationalization-substitutions
and $Variable-substitions to the string $fmt under the assumption that the
current page is $pagename.
</p><p class='vspace'></p>
<p>The substitutions goes as follows:
</p><p class='vspace'></p>
<ol><li>Replace any sequences of the form <code>$XyzFmt</code> with value of any   corresponding global variable.
</li><li>Process the string for any <code>$[...]</code> phrases (internationalized phrase),   using the currently loaded translation tables.
</li><li>Perform any pattern replacements from the array <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtP'><code class='varlink'>&#36;FmtP</code></a>. Typically   this is used to handle things like $Name and $Group etc that are   specific to the name of the current page.
</li><li>If <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.LayoutVariables#EnablePathInfo'><code class='varlink'>&#36;EnablePathInfo</code></a> isn't set, convert <code>URIs</code> to use the syntax   <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>?n=&lt;Group&gt;.&lt;Name&gt; instead of <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>/&lt;Group&gt;/&lt;Name&gt;.
</li><li>Replace any $-sequences with global variables (caching as needed)   of the same name (in reverse alphabetical order) *
</li><li>Replace any $-sequences with values out of the array <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtV'><code class='varlink'>&#36;FmtV</code></a>.
</li></ol><p class='vspace'></p><p>Note that <code>FmtPageName</code>() is automatically aware of any global
variables. However, since modifying global variables may be expensive, the
array <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtV'><code class='varlink'>&#36;FmtV</code></a> exists as a way to avoid rebuilding the variable cache for
values that change frequently.
</p><p class='vspace'></p>
<p class='vspace'></p><p>To be very specific, here's what Pm wrote regarding different ways of
defining a variable that can be used by <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a> (when it is formatting a
string):
</p><p class='vspace'></p>
<ul><li>Set a global variable.  <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a>() automatically performs   substitution on all global variables that aren't arrays.   If the variable is going to change value over repeated calls   to <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a>, it's probably better to use <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtV'><code class='varlink'>&#36;FmtV</code></a> as in the next item.
<p class='vspace'></p></li><li>Set a value in the <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtV'><code class='varlink'>&#36;FmtV</code></a> array.  <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtV'><code class='varlink'>&#36;FmtV</code></a>['&#36;MyVariable']='something'    means to replace instances of '&#36;MyVariable' with 'something'.   Use this for variables that change value frequently over   multiple calls to <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a>.  
<p class='vspace'></p></li><li>Set a pattern/replacement in the <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.OtherVariables#FmtP'><code class='varlink'>&#36;FmtP</code></a> array.  This is normally   done for substitutions that have to be dynamic somehow based on   the pagename being referenced, such as '$Title', '$Group', '$Name',   '&#36;PageUrl', etc.
</li></ul><p class='vspace'></p><p>Also see: <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Functions#FmtPageName' rel='nofollow'>Cookbook:Functions#FmtPageName</a>
</p><p class='vspace'></p>
<p>Finally, here's something else Pm wrote that is related and explains
why we have this function:
</p><p class='vspace'></p>
<div class='indent'>In order to produce its output, PmWiki has to do a variety of string    substitutions:
<p class='vspace'></p><ol><li>Generating the full name, group, title, or url of a page     (other than the currently displayed page)
</li><li>Substituting the values of global variables
</li><li>Performing internationalization substitutions
</li><li>Converting <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>/$Group/$Name to <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>?n=$Group.$Name    for sites that cannot handle PATH_INFO urls
</li><li>Other substitutions needed by specific functions
</li></ol><p class='vspace'></p></div><div class='indent'>PmWiki centralizes all of that substitute-a-dynamic-value-in-a-string    into the <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a>() subroutine.  Because some things are extremely    dynamic, such as the url or group for an arbitrary page that is not the    current one, those things cannot be simple global PHP variables.  Or, if    they do become global variables, they're variables that cannot be    trusted to hold a value for very long because some other routine (that    may happen to be formatting a string for a different page) will come    along and change that global variable for whatever it happens to be doing.
<p class='vspace'></p></div><div class='indent'> A limited set of $-substitutions -- basically anything that     corresponds to a page attribute -- are not PHP variables and     are only available through the <a class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>FmtPageName</a>() subroutine.      The complete set of these special substitutions is $Group,     $Name, &#36;FullName, &#36;PageUrl, $Title, $Titlespaced, $Namespaced,     $Groupspaced, <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.BasicVariables#LastModifiedBy'><code class='varlink'>&#36;LastModifiedBy</code></a>, &#36;LastModifiedHost, and &#36;LastModified.      These items cannot just be standard PHP variables because often    PmWiki needs to obtain the url, name, group, title, etc. of a page     other than the one currently being viewed by a browser.
<p class='vspace'></p></div><div class='indent'> At the moment, $Title, &#36;LastModified, <a class='varlink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.BasicVariables#LastModifiedBy'><code class='varlink'>&#36;LastModifiedBy</code></a>, and     &#36;LastModifiedHost can only work if the page's attributes have been     loaded and cached using the PCache function.   So, to get    at these values one must typically do:
<p class='vspace'></p></div><div class='indent'><pre>
$page = `ReadPage($pagename);
PCache($pagename, $page);
$pvar = `FmtPageName('$Title', $pagename);
$pvar = `FmtPageName('$`LastModifiedBy', $pagename);
</pre>
</div><p class='vspace'></p><h2>Source code for <code>FmtPageName()</code></h2>
<p class='vspace'></p><p>Note: The source code below was taken from "pmwiki-2.0.beta55", while the
current version is pmwiki-2.0.2.
</p><p class='vspace'></p>
<div class='indent'><pre>
## FmtPageName handles $[internationalization] and $Variable
## substitutions in strings based on the $pagename argument.
function FmtPageName($fmt,$pagename) {
  # Perform $-substitutions on $fmt relative to page given by $pagename
  global $GroupPattern, $NamePattern, $EnablePathInfo, $ScriptUrl,
    $GCount, $UnsafeGlobals, $FmtV, $FmtP, $PCache, $AsSpacedFunction;
  if (strpos($fmt,'$')===false) return $fmt;
  $fmt = preg_replace('/\\$([A-Z]\\w*Fmt)\\b/e','$GLOBALS[\'$1\']',$fmt);
  $fmt = preg_replace('/\\$\\[(?&gt;([^\\]] ))\\]/e',"XL(PSS('$1'))",$fmt);
  $match = array('','$Group','$Name');
  if (preg_match("/^($GroupPattern)[\\/.]($NamePattern)\$/", $pagename, $m))
    $match = $m;
  $fmt = preg_replace(array_keys($FmtP),array_values($FmtP),$fmt);
  $fmt = preg_replace('!\\$ScriptUrl/([^?#\'"\\s&lt;&gt;] )!e',
    (@$EnablePathInfo) ? "'$ScriptUrl/'.PUE('$1')" :
        "'$ScriptUrl?n='.str_replace('/','.',PUE('$1'))",
    $fmt);
  if (strpos($fmt,'$')===false) return $fmt;
  static $g;
  if ($GCount != count($GLOBALS) count($FmtV)) {
    $g = array();
    foreach($GLOBALS as $n=&gt;$v) {
      if (is_array($v) || is_object($v) ||
         isset($FmtV["\$$n"]) || in_array($n,$UnsafeGlobals)) continue;
      $g["\$$n"] = $v;
    }
    $GCount = count($GLOBALS) count($FmtV);
    krsort($g); reset($g);
  }
  $fmt = str_replace(array_keys($g),array_values($g),$fmt);
  $fmt = str_replace(array_keys($FmtV),array_values($FmtV),$fmt);
  return $fmt;
}
</pre>
</div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footnav'>
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=edit'>Edit</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=diff'>History</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName?action=print' target='_blank'>Print</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.RecentChanges'>Recent Changes</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=Site.Search'>Search</a></div>
    <div class='lastmod'>Page last modified on September 01, 2005, at 05:43 AM</div></div>
<!--/PageFooterFmt-->
</body>

<!-- Mirrored from kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 26 Jan 2013 19:19:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=iso-8859-1" /><!-- /Added by HTTrack -->

<!-- Mirrored from kozgun.net/wiki/pmwikibeca.html?n=PmWiki.FmtPageName by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 27 Jun 2014 19:52:08 GMT -->
</html>
