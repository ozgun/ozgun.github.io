<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!-- Mirrored from kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 26 Jan 2013 19:19:13 GMT -->
<!-- Added by HTTrack -->
<!-- Mirrored from kozgun.net/wiki/pmwiki4ccf.html?n=PmWiki.Functions by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 27 Jun 2014 19:52:08 GMT -->
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1" /><!-- /Added by HTTrack -->
<head>
  <title>Wiki | PmWiki / Functions </title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href='pub/skins/pmwiki/pmwiki.css' type='text/css' />
	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
	</script>
	<script type="text/javascript">
		_uacct = "UA-884922-1";
		urchinTracker();
	</script>

  <!--HeaderText--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
div.sourceblock {
	padding: 0.5em;
	border: 1px solid #808080;
	background-color: #F1F0ED; }
div.sourceblock div {
	font-family: monospace;
	font-size: small;
	line-height: 1; }
div.sourceblock div.head, div.sourceblock div.foot {
	font: italic medium serif;
	padding: 0.5em;
}
div.codeblock {
	padding: 0.5em;
	border: 1px solid #808080;
	background-color: #F1F0ED; }
div.codeblock pre {
	font-family: monospace;
	font-size: small;
	line-height: 1; }.editconflict { color:green; font-style:italic; 
  margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style>  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
<!--PageHeaderFmt-->
  <div id='wikilogo'><a href='http://kozgun.net/wiki/pmwiki.php'><img src='http://kozgun.net/wiki/pub/skins/pmwiki/sopar100.jpg'
    alt='Wiki' border='0' /></a></div>
  <div id='wikihead'>
	<!-- <span align=center style="position: relative; top:0px; left:-400px;"> -->
<!-- SiteSearch Google -->
<!--
<form method="get" action="http://www.google.com.tr/custom" target="_top">
<table border="0">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif" border="0" alt="Google" align="middle"></img></a>
</td>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="linoz.blogspot.com;www.kozgun.net"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
<input type="submit" name="sa" value="Search"></input>
</td></tr>
<tr>
<td nowrap="nowrap" colspan=2>
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked"></input>
<font size="-1" color="#000000">Web</font>
<input type="radio" name="sitesearch" value="linoz.blogspot.com"></input>
<font size="-1" color="#000000">linoz.blogspot.com</font>
<input type="radio" name="sitesearch" value="www.kozgun.net"></input>
<font size="-1" color="#000000">www.kozgun.net</font>
</td>
  <td></td>
</tr>
</table>
<input type="hidden" name="client" value="pub-0891912819256381"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-9"></input>
<input type="hidden" name="oe" value="ISO-8859-9"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1"></input>
<input type="hidden" name="hl" value="en"></input>
</td></tr></table>
</form>
-->
<!-- SiteSearch Google -->
	<!-- </span> -->

	<span style="position: relative; top:0px; left:0px;">
  <form action='http://kozgun.net/wiki/pmwiki.php'>
    <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.RecentChanges'
      accesskey='c'>Recent Changes</a> -
    <input type='hidden' name='n' value='PmWiki.Functions' />
    <input type='hidden' name='action' value='search' />
    <a href='http://kozgun.net/wiki/pmwiki.php?n=Site.Search'>Search</a>:
    <input class='searchbox' type='text' name='q' value='' />
    <input class='searchbutton' type='submit' value='Go' /></form></div>
		</span>

<!--/PageHeaderFmt-->
  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>
<!--PageLeftFmt-->
      <td id='wikileft' valign='top'>
        <ul><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=BirlerVeSifirlar.HomePage'>Birler ve S&#305;f&#305;rlar</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Radio.HomePage'>Radyo</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Bookmarks.Index'>Ba&#287;lant&#305;lar</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=RSS.HomePage'>RSS/Podcasts</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Main.Index'>Site Haritas&#305;</a>
</li><li><a class='urllink' href='http://linoz.blogspot.com/' rel='nofollow'>linoz.blogspot.com</a>
</li><li><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=NelerOgrendim.HomePage'>Neler Ö&#287;rendim</a>
</li></ul><p style='text-align: right;' > <span style='font-size:83%'><a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=Site.SideBar?action=edit'>edit SideBar</a></span>
</p>

			<div align="center">
			<br>
			<!-- firefox ve thunderbird -->
			<a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=0&amp;t=209"><img border="0" alt="Firefox 2" title="Firefox 2" src="http://sfx-images.mozilla.org/affiliates/Buttons/firefox2/firefox-spread-btn-1.png"/></a> 
			<br>
<a href="http://www.spreadfirefox.com/?q=affiliates&amp;id=0&amp;t=181"><img border="0" alt="Get Thunderbird!" title="Get Thunderbird!" src="http://sfx-images.mozilla.org/affiliates/thunderbird/thunderbird_small.png"/></a>


<br><br>
				<script type="text/javascript"><!--
				/*
google_ad_client = "pub-0891912819256381";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
*/
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</div>
				</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
        <!-- <div id='wikicmds'><ul><li class='browse' ><a accesskey='ak_view'  class='selflink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions'>View</a>
</li><li class='edit' ><a accesskey='e'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=edit'>Edit</a>
</li><li class='diff' ><a accesskey='h'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=diff'>History</a>
</li><li class='print' ><a accesskey='ak_print'  class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=print'>Print</a>
</li></ul>
</div>-->
<!--PageTitleFmt-->
        <div id='wikititle'>
          <div class='pagegroup'><a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki'>PmWiki</a> /</div>
          <h1 class='pagetitle'>Functions</h1></div>
<!--PageText-->
<div id='wikitext'>
<p>
This page describes some of the internal workings of <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.PmWiki'>PmWiki</a> by explaining how some of the functions in pmwiki.php work. For a more brief list/overview on functions useful to for instance cookbook writers, see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Functions' rel='nofollow'>Cookbook:Functions</a>. You might also want to look at the <a class='urllink' href='http://cvs.sourceforge.net/viewcvs.py/pmwiki/pmwiki/pmwiki.php?view=markup' rel='nofollow'>latest CVS version of pmwiki.php</a>.
</p><p class='vspace'></p>
<p><span style='color: green;' >Put PmWiki standard functions here with brief explanations (per Pm email). Overly-documented functions get their own page (where possible). BenWilson August 02, 2005, at 02:15 PM</span>
</p><p class='vspace'></p>
<h2><a name='FmtPageName' id='FmtPageName'></a> <code>FmtPageName</code>($fmt, $pagename)</h2>
<p class='vspace'></p><div class='indent'><a name='FmtPageName-desc' id='FmtPageName-desc'></a>Returns <code>$fmt</code>, with $variable and internationalisation substitutions performed, under the assumption that the current page is <code>pagename</code>. See <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Variables'>PmWiki.Variables</a> for an (incomplete) list of available variables, <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Internationalizations'>PmWiki.Internationalizations</a> for internationalisation.
</div><p class='vspace'></p><p>This is one of the major functions in PmWiki, see <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.FmtPageName'>PmWiki.FmtPageName</a> for
lots of details.
</p><p class='vspace'></p>
<p class='vspace'></p><h2><a name='Markup' id='Markup'></a> <code>Markup</code>($name, $when, $pattern, $replace)</h2>
<p class='vspace'></p><div class='indent'><a name='Markup-desc' id='Markup-desc'></a>Adds a new markup to the conversion table.  Described in greater detail at <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.CustomMarkup'>PmWiki.CustomMarkup</a>.
</div><p class='vspace'></p><p>This function is used to insert translation rules into the PmWiki's
translation engine. The arguments to <code>Markup()</code> are all strings, where:
</p><p class='vspace'></p>
<dl><dt><code>$name</code></dt><dd> The string names the rule that is inserted. It must be   unique (?? and is used partially controls the order in which the   rules are applied).
</dd></dl><div class='indent'><span style='color: red;' >What happens if the name isn't unique??</span>
</div><dl><dt><code>$when</code></dt><dd> This string is used to primarily control <em>when</em>   a rule is to be applied. See ??? for more details on the order of rules.
</dd><dt><code>$pattern</code></dt><dd> This string is a <a class='urllink' href='http://www.php.net/preg_replace' rel='nofollow'>regular expression</a> that is used by the translation   engine to look for occurences of this rule in the markup source.
</dd><dt><code>$replace</code></dt><dd> This string will replace the matched text when a match   occurs.
</dd></dl><p class='vspace'></p><p>Also see: <a class='wikilink' href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.CustomMarkup'>PmWiki.CustomMarkup</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Functions#Markup' rel='nofollow'>Cookbook:Functions#Markup</a>
</p><p class='vspace'></p>
<h2><a name='MarkupToHTML' id='MarkupToHTML'></a> <code>MarkupToHTML</code>($pagename, $str)</h2>
<p class='vspace'></p><div class='indent'><a name='MarkupToHTML-desc' id='MarkupToHTML-desc'></a> Converts the string <code>$str</code> containing PmWiki markup into the corresponding HTML code, assuming the current page is <code>$pagename</code>.
</div><p class='vspace'></p><p>Also see: <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Functions#MarkupToHTML' rel='nofollow'>Cookbook:Functions#MarkupToHTML</a>
</p><p class='vspace'></p>
<h2><a name='mkdirp' id='mkdirp'></a> <code>mkdirp</code>($dir)</h2>
<p class='vspace'></p><p>The function <code>mkdirp</code>($dir) creates a directory, <code>$dir</code>, if it doesn't
already exist, including any parent directories that might be needed.  For
each directory created, it checks that the permissions on the directory are
sufficient to allow PmWiki scripts to read and write files in that
directory.  This includes checking for restrictions imposed by PHP's
safe_mode setting.  If <code>mkdirp</code>() is unable to successfully create a
read/write directory, <code>mkdirp</code>() aborts with an error message telling the
administrator the steps to take to either create $dir manually or give
PmWiki sufficient permissions to be able to do it.
</p><p class='vspace'></p>
<p>Code of <code>mkdirp</code>() taken from version  pmwiki-2.0.beta55 (current is pmwiki-2.0.2):
</p><p class='vspace'></p>
<div class='indent'><pre>
## mkdirp creates a directory and its parents as needed, and sets
## permissions accordingly.
function mkdirp($dir) {
  global $ScriptUrl;
  if (file_exists($dir)) return;
  if (!file_exists(dirname($dir))) mkdirp(dirname($dir));
  if (mkdir($dir, 0777)) {
    fixperms($dir);
    if (@touch("$dir/xxx")) { unlink("$dir/xxx"); return; }
    rmdir($dir);
  }
  $parent = realpath(dirname($dir));
  $perms = decoct(fileperms($parent) &amp; 03777);
  $msg = "PmWiki needs to have a writable &lt;tt&gt;$dir/&lt;/tt&gt; directory
    before it can continue.  You can create the directory manually
    by executing the following commands on your server:
    &lt;pre&gt;    mkdir $parent/$dir\n    chmod 777 $parent/$dir&lt;/pre&gt;
    Then, &lt;a href='$ScriptUrl'&gt;reload this page&lt;/a&gt;.";
  $safemode = ini_get('safe_mode');
  if (!$safemode) $msg .= "&lt;br /&gt;&lt;br /&gt;Or, for a slightly more
    secure installation, try executing &lt;pre&gt;    chmod 2777 $parent&lt;/pre&gt;
    on your server and following &lt;a target='_blank' href='$ScriptUrl'&gt;
    this link&lt;/a&gt;.  Afterwards you can restore the permissions to
    their current setting by executing &lt;pre&gt;    chmod $perms $parent&lt;/pre&gt;.";
  Abort($msg);
}
</pre>
</div>
</div>

      </td>
    </tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
    <div class='footnav'>
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=edit'>Edit</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=diff'>History</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions?action=print' target='_blank'>Print</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=PmWiki.RecentChanges'>Recent Changes</a> -
      <a href='http://kozgun.net/wiki/pmwiki.php?n=Site.Search'>Search</a></div>
    <div class='lastmod'>Page last modified on September 01, 2005, at 06:21 AM</div></div>
<!--/PageFooterFmt-->
</body>

<!-- Mirrored from kozgun.net/wiki/pmwiki.php?n=PmWiki.Functions by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 26 Jan 2013 19:19:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=iso-8859-1" /><!-- /Added by HTTrack -->

<!-- Mirrored from kozgun.net/wiki/pmwiki4ccf.html?n=PmWiki.Functions by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 27 Jun 2014 19:52:08 GMT -->
</html>
